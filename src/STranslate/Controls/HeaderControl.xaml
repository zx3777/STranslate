<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cnvt="clr-namespace:STranslate.Converters"
    xmlns:control="clr-namespace:STranslate.Controls"
    xmlns:ikw="http://schemas.inkore.net/lib/ui/wpf"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern">

    <Style TargetType="{x:Type control:HeaderControl}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="VerticalAlignment" Value="Stretch" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type control:HeaderControl}">
                    <Border
                        x:Name="PART_Border"
                        Padding="{TemplateBinding Padding}"
                        HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalAlignment}"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        WindowChrome.IsHitTestVisibleInChrome="True">
                        <Border.Resources>
                            <Style BasedOn="{StaticResource {x:Type control:IconButton}}" TargetType="control:IconButton">
                                <Setter Property="Padding" Value="5" />
                            </Style>
                        </Border.Resources>
                        <DockPanel>
                            <control:IconButton
                                Icon="{x:Static ui:FluentSystemIcons.Pin_24_Regular}"
                                IsOn="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsTopmost}"
                                ToolTip="{DynamicResource ToggleTopmost}"
                                Type="Toggle" />

                            <ikw:SimpleStackPanel
                                DockPanel.Dock="Right"
                                FlowDirection="RightToLeft"
                                Orientation="Horizontal"
                                Spacing="3">
                                <control:IconButton
                                    Command="{TemplateBinding SettingCommand}"
                                    Icon="{x:Static ui:FluentSystemIcons.Settings_20_Regular}"
                                    ToolTip="{DynamicResource Settings}"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsSettingVisible, Converter={cnvt:BoolToVisibilityConverter}}" />
                                <control:IconButton
                                    ui:ControlHelper.CornerRadius="6,0,0,6"
                                    BorderThickness="1,1,0,1"
                                    Command="{TemplateBinding HistoryNextCommand}"
                                    Icon="{x:Static ui:FluentSystemIcons.ChevronCircleRight_20_Regular}"
                                    ToolTip="{DynamicResource Next}"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsHistoryNavigationVisible, Converter={cnvt:BoolToVisibilityConverter}}" />
                                <control:IconButton
                                    Margin="-2.5,0,0,0"
                                    ui:ControlHelper.CornerRadius="0,6,6,0"
                                    Command="{TemplateBinding HistoryPreviousCommand}"
                                    Icon="{x:Static ui:FluentSystemIcons.ChevronCircleLeft_20_Regular}"
                                    ToolTip="{DynamicResource Previous}"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsHistoryNavigationVisible, Converter={cnvt:BoolToVisibilityConverter}}" />
                                <control:IconButton
                                    Icon="{x:Static ui:FluentSystemIcons.SlideHide_20_Regular}"
                                    IsOn="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsHideInput}"
                                    ToolTip="{DynamicResource Hotkey_ShowHideInputBox}"
                                    Type="Toggle"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsHideInputVisible, Converter={cnvt:BoolToVisibilityConverter}}" />
                                <control:IconButton
                                    Command="{TemplateBinding ColorSchemeCommand}"
                                    Icon="{x:Static ui:FluentSystemIcons.Color_20_Regular}"
                                    ToolTip="{DynamicResource Hotkey_ToggleColorTheme}"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsColorSchemeVisible, Converter={cnvt:BoolToVisibilityConverter}}" />
                                <control:IconButton
                                    Icon="{x:Static ui:FluentSystemIcons.KeyboardMouse_16_Regular}"
                                    IsOn="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsMouseHook}"
                                    ToolTip="{DynamicResource Hotkey_MouseHookTranslate}"
                                    Type="Toggle"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsMouseHookVisible, Converter={cnvt:BoolToVisibilityConverter}}" />
                                <control:IconButton
                                    Icon="{x:Static ui:FluentSystemIcons.DrawImage_20_Regular}"
                                    IsOn="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=ScreenshotTranslateInImage}"
                                    ToolTip="{DynamicResource General_ScreenshotTranslateInImage}"
                                    Type="Toggle"
                                    Visibility="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=IsScreenshotTranslateInImageVisible, Converter={cnvt:BoolToVisibilityConverter}}" />
                            </ikw:SimpleStackPanel>
                        </DockPanel>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>